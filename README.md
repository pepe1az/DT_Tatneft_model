# Историческая модель данных Татнефть

Данный проект посвящён восставновлению исторической модели данных компании Татнефть на основе справочника КИВЦ от 1978 года.

## Структура проекта

1. [kivz_1978.schema.json](kivz_1978.schema.json): JSON-схема исторической модели данных.

2. [databases](databases/): содержит директории, каждая из которых соответствует одной из 16 БД КИВЦ. Каждая под-директория содержит:

    - `schemas`: папка, где лежат json-схемы отдельных таблиц соответствующей БД;
    
    - `***.schema.json`: общая json-схема БД, собранная автоматически.

3. [scripts](scripts/): содержит скрипты для валидации и сборки JSON-схем отдельных БД:

    - [combine_kivz.py](scripts/combine_kivz.py): собирает общую историческую модель из моделей 16 БД, при необходимости валидируя отдельные таблицы на предмет соответствия синтаксису JSON Schema. Скрипт тестировался на Python версии 3.12;
    
    - [requirements.txt](scripts/requirements.txt): необходимые библиотеки для запуска скриптов (рекомендуется Python >= 3.12).

4. [visualization](visualization/): содержит движок для визуализации JSON схем. Для визуализации схемы:

    - Открыть в браузере файл `index.html`;
    
    - Скопировать текст искомой JSON-схемы и вставить в поле "source" открывшейся веб-страницы;
    
    - Переключиться на вкладке `Visualize`.


